{% extends 'base.html' %}
{% load compress %}

{% block title %}Explore{% endblock %}

{% block extra_head %}
    <link href="{{ STATIC_URL }}css/map.css" media="all" rel="stylesheet" type="text/css" />
{% endblock %}

{% block content %}

{% include 'header.html' %}
<div class="container">

    <div id="loading-container">
        <h3>Loading dataset</h3>
        <img src="{{ STATIC_URL }}img/loading.gif" />
    </div>

    <div id="content">
        <div class="row">
          <div class="col-md-12">
            <h4>Roll calls per year <small><a class="reset" href="javascript:timeChart.filterAll();dc.redrawAll();" style="display: none;">reset</a></small></h4>
            <div id="time-chart"></div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div id="clausen-chart">
                <h4>Clausen  <small><a class="reset" href="javascript:clausenChart.filterAll();dc.redrawAll();" style="display: none;">reset</a></small></h4>
            </div>
            <div id="result-chart">
                <h4>Result <small><a class="reset" href="javascript:resultChart.filterAll();dc.redrawAll();" style="display: none;">reset</a></small></h4>
            </div>
          </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h4>Rollcalls list</h4>
                <div id="data-count">
                    <span class="filter-count"></span> selected out of <span class="total-count"></span> records | <a
                        href="javascript:dc.filterAll(); dc.renderAll();">Reset All</a>
                </div>
                <table class="table table-hover dc-data-table">
                    <thead>
                    <tr class="header">
                        <th>Date</th>
                        <th>Result</th>
                        <th>Description</th>
                        <th>Link</th>
                    </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>

</div>

<script type="text/javascript" src="{{ STATIC_URL }}js/libs/d3.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/libs/crossfilter.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/libs/dc.js"></script>
{% compress js %}
    <script language="javascript">var chamber_param = "{{ chamber|escapejs }}";</script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/explore.js"></script>
{% endcompress %}
{% endblock %}

